---
import "../../styles/global.css";

export async function getStaticPaths() {
    const products: Product[] = await fetch('https://fakestoreapi.com/products')
        .then(response => response.json());
    
    return products.map((product: Product) => ({
        params: { id: product.id.toString() },
        props: { product }
    }));
}

const { product } = Astro.props;
---

<html lang="en">
  <head>
    <title>{product.title}</title>
  </head>
  <body class="p-8">
    <h1 class="text-3xl font-bold mb-4">{product.title}</h1>
    <img src={product.image} alt={product.title} class="w-64 mb-4" />
    <p class="text-xl mb-2">${product.price}</p>
    <p class="mb-4">{product.description}</p>
    <a href="/" class="text-blue-500">‚Üê Volver a productos</a>
  </body>
</html>